<% modal ||= false %>
<% remote = modal ? true : false %>
<%= simple_form_for @user, remote: remote, html: { class: 'form-horizontal' }, wrapper: :horizontal_form, wrapper_mappings: { check_boxes: :horizontal_radio_and_checkboxes, radio_buttons: :horizontal_radio_and_checkboxes, file: :horizontal_file_input, boolean: :horizontal_boolean } do |f| %>
    <div class="box box-primary">
      <div class="box-body">

        <%= f.error_notification %>

        <div class="form-inputs">
          <%= f.input :email  %>
          <%= f.input :name  %>

          <div class="form-group">
            <%= f.label :role, class: 'col-sm-3 control-label' %>
            <div class="col-sm-9">
              <%= f.select(:role, User.roles_attributes_for_select, {}, {:class => 'form-control col-sm-9'}) %>
            </div>
          </div>

          <div class="form-group">
            <%= f.label :password, class: 'col-sm-3 control-label' %>
            <div class="col-sm-9">
            <%= f.password_field :password, class: 'form-control', placeholder: "Minimum #{User.password_length.min} characters" %>
            </div>
          </div>

          <%= f.input :password_confirmation  %>
        </div>

      </div>

      <% if !modal %>
          <div class="box-footer">
            <div class="form-group">
              <div class='col-sm-offset-3 col-sm-9'>
                <%= button_tag(type: 'submit', class: "btn btn-lg btn-success") do %>
                    <i class="fa fa-floppy-o fa-fw" aria-hidden="true"></i> <%= t('Submit') %>
                <% end %>
                <%= link_to t('Cancel'), positions_path, class: 'btn btn-lg btn-default' %>
              </div>
            </div>
          </div>
      <% end %>

    </div>
<% end %>